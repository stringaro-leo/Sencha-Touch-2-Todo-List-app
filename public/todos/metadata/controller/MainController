{
    "id": "ExtBox1-ext-gen81890",
    "type": "controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "MainController"
    },
    "customConfigs": [],
    "designerId": "75bcccd5-02d0-4494-87ad-386951a69f06",
    "$viewOrder": 0,
    "expanded": true,
    "cn": [
        {
            "id": "ExtBox1-ext-gen81895",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTaskTextFieldKeyup",
                "implHandler": [
                    "var value = textfield.getValue();",
                    "// handle the enter key",
                    "if (e.event.keyCode === 13 && value !== \"\") {",
                    "    TodosApp.store.add({name: value, done: false});",
                    "    TodosApp.store.sync();",
                    "    textfield.reset();",
                    "}"
                ],
                "name": "keyup",
                "designer|targetType": "Ext.field.Text",
                "designer|controlQuery": "#taskTextField",
                "designer|userClassName": "onTaskTextFieldKeyup"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen82455",
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "mainPanel",
                "selector": "#mainPanel",
                "designer|userClassName": "mainPanel"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen82568",
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "listPanel",
                "selector": "#listPanel",
                "designer|userClassName": "listPanel"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen82671",
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "editPanel",
                "selector": "#editPanel",
                "designer|userClassName": "editPanel"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen87692",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTaskListItemDoubletap",
                "implHandler": [
                    "var mainPanel = this.getMainPanel(),",
                    "    editPanel = this.getEditPanel();",
                    "",
                    "editPanel.setRecord(record);",
                    "//editPanel.down(\"#taskNameTextField\").setValue(record.get(\"name\"));",
                    "//editPanel.down(\"#taskDoneCheckbox\").setChecked(record.get(\"done\"));",
                    "mainPanel.down(\"#backButton\").show();",
                    "mainPanel.setActiveItem(1);  // 0 is the listPanel, 1 is the editPanel"
                ],
                "name": "itemdoubletap",
                "designer|targetType": "Ext.dataview.List",
                "designer|controlQuery": "#taskList",
                "designer|userClassName": "onTaskListItemDoubletap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen94266",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onBackButtonTap",
                "implHandler": [
                    "button.hide();",
                    "this.getMainPanel().setActiveItem(0);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#backButton",
                "designer|userClassName": "onBackButtonTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen96472",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onDeleteButtonTap",
                "implHandler": [
                    "var mainPanel = this.getMainPanel();",
                    "",
                    "TodosApp.store.remove(TodosApp.selectedTask);",
                    "TodosApp.store.sync();",
                    "mainPanel.down(\"#backButton\").hide();",
                    "mainPanel.setActiveItem(0);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#deleteButton",
                "designer|userClassName": "onDeleteButtonTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen96766",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onSaveButtonTap",
                "implHandler": [
                    "var editPanel = this.getEditPanel(),",
                    "    mainPanel = this.getMainPanel();",
                    "",
                    "var name = editPanel.down(\"#taskNameTextField\").getValue(),",
                    "    done = editPanel.down(\"#taskDoneCheckbox\").getChecked();",
                    "",
                    "TodosApp.selectedTask.set(\"name\",name);",
                    "TodosApp.selectedTask.set(\"done\",done);",
                    "TodosApp.store.sync();",
                    "mainPanel.down(\"#backButton\").hide();",
                    "mainPanel.setActiveItem(0);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#saveButton",
                "designer|userClassName": "onSaveButtonTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen25216",
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "settingsPanel",
                "selector": "#settingsPanel",
                "designer|userClassName": "settingsPanel"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen102429",
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "init",
                "implHandler": [
                    "TodosApp.store = Ext.getStore(\"Tasks\");",
                    "",
                    "TodosApp.store.on({",
                    "    scope: this,",
                    "    updaterecord: this.updateStoreInfo,",
                    "    load: this.updateStoreInfo",
                    "});",
                    "",
                    ""
                ],
                "designer|userClassName": "init"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen103893",
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "updateStoreInfo",
                "implHandler": [
                    "var count,",
                    "    storeInfo = this.getListPanel().down(\"#storeInfo\");",
                    "",
                    "TodosApp.store.filter(\"done\",false);",
                    "count = TodosApp.store.getCount();",
                    "TodosApp.store.clearFilter();",
                    "if (count > 0) {",
                    "    storeInfo.setHtml(I18n.t(count>1?\"items_left\":\"item_left\",{\"count\":count}));",
                    "} else {",
                    "    storeInfo.setHtml(\"\");",
                    "}"
                ],
                "designer|userClassName": "updateStoreInfo"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen111947",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTaskListItemTap",
                "implHandler": [
                    "TodosApp.selectedTask = record;",
                    "if (TodosApp.selectedCheckbox) {",
                    "    setTimeout(function(){",
                    "        record.set(\"done\",TodosApp.selectedCheckbox.checked);",
                    "        TodosApp.selectedCheckbox = undefined;",
                    "        TodosApp.store.sync();",
                    "    },500);",
                    "}"
                ],
                "name": "itemtap",
                "designer|targetType": "Ext.dataview.List",
                "designer|controlQuery": "#taskList",
                "designer|userClassName": "onTaskListItemTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen115677",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTaskListInitialize",
                "implHandler": [
                    "// here we setup taskList listen on the tap on the checkbox and record the selected checkbox ",
                    "component.element.on({",
                    "    tap: function(e, el) {",
                    "        TodosApp.selectedCheckbox = el;    ",
                    "    }, delegate: 'input[type=checkbox]'",
                    "});"
                ],
                "name": "initialize",
                "designer|targetType": "Ext.dataview.List",
                "designer|controlQuery": "#taskList",
                "designer|userClassName": "onTaskListInitialize"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen125053",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onMarkAllCheckboxCheck",
                "implHandler": [
                    "this.updateTaskStatus(true);"
                ],
                "name": "check",
                "designer|targetType": "Ext.field.Checkbox",
                "designer|controlQuery": "#markAllCheckbox",
                "designer|userClassName": "onMarkAllCheckboxCheck"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen125347",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onMarkAllCheckboxUncheck",
                "implHandler": [
                    "this.updateTaskStatus(false);"
                ],
                "name": "uncheck",
                "designer|targetType": "Ext.field.Checkbox",
                "designer|controlQuery": "#markAllCheckbox",
                "designer|userClassName": "onMarkAllCheckboxUncheck"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen127315",
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "updateTaskStatus",
                "designer|params": [
                    "done"
                ],
                "implHandler": [
                    "TodosApp.store.each(function(record){",
                    "    record.set(\"done\",done);",
                    "});",
                    "TodosApp.store.sync();"
                ],
                "designer|userClassName": "updateTaskStatus"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen10130",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onMainPanelShow",
                "implHandler": [
                    "this.i18nSetup();"
                ],
                "name": "show",
                "designer|targetType": "Ext.Panel",
                "designer|controlQuery": "#mainPanel",
                "designer|userClassName": "onMainPanelShow"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen4806",
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "i18nSetup",
                "designer|params": [
                    "locale"
                ],
                "implHandler": [
                    "I18n.fallbacks = true;",
                    "I18n.defaultLocale = \"en\";",
                    "",
                    "I18n.locale = locale || \"en\";",
                    "",
                    "Ext.getCmp(\"toolbar\").setTitle(I18n.t(\"Todos\"));",
                    "Ext.getCmp(\"backButton\").setText(I18n.t(\"Back\"));",
                    "",
                    "Ext.getCmp(\"markAllCheckbox\").setLabel(I18n.t(\"Mark_all_tasks_done\"));",
                    "Ext.getCmp(\"taskTextField\").setPlaceHolder(I18n.t(\"What_needs_to_be_done\"));",
                    "",
                    "Ext.getCmp(\"editTaskFieldSet\").setTitle(I18n.t(\"Edit_Task\"));",
                    "Ext.getCmp(\"taskNameTextField\").setLabel(I18n.t(\"Name\"));",
                    "Ext.getCmp(\"taskDoneCheckbox\").setLabel(I18n.t(\"Done\"));",
                    "Ext.getCmp(\"deleteButton\").setText(I18n.t(\"Delete\"));",
                    "Ext.getCmp(\"saveButton\").setText(I18n.t(\"Save\"));",
                    "",
                    "Ext.getCmp(\"settingsFieldSet\").setTitle(I18n.t(\"Settings\"));",
                    "",
                    "var langSel = Ext.getCmp(\"languageSelectField\");",
                    "langSel.setLabel(I18n.t(\"Language\"));",
                    "langSel.setOptions([",
                    "            {text: I18n.t('English'), value: 'en'},",
                    "            {text: I18n.t('Spanish'), value: 'es-ES'},",
                    "            {text: I18n.t('Chinese'), value: 'zh-CN'}",
                    "        ]);",
                    "Ext.getCmp(\"settingsCancelButton\").setText(I18n.t(\"Cancel\"));",
                    "Ext.getCmp(\"settingsSaveButton\").setText(I18n.t(\"Save\"));",
                    "",
                    "// picker with Done and Cancel buttons(rather than overlay list) is used in phone mode",
                    "if (langSel.picker) {",
                    "    langSel.picker.getDoneButton().setText(I18n.t(\"Done\"));",
                    "    langSel.picker.getCancelButton().setText(I18n.t(\"Cancel\"));",
                    "}",
                    "",
                    "this.updateStoreInfo();"
                ],
                "designer|userClassName": "i18nSetup"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen19308",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onSettingsButtonTap",
                "implHandler": [
                    "var mainPanel = this.getMainPanel(),",
                    "    settingsPanel = this.getSettingsPanel();",
                    "",
                    "//editPanel.setRecord(record);",
                    "////editPanel.down(\"#taskNameTextField\").setValue(record.get(\"name\"));",
                    "////\u001b\u001beditPanel.down(\"#taskDoneCheckbox\").setChecked(record.get(\"done\"));",
                    "mainPanel.down(\"#backButton\").show();",
                    "mainPanel.setActiveItem(2);  // 0 is the listPanel, 1 is the editPanel, 2 is the settingsPanel"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#settingsButton",
                "designer|userClassName": "onSettingsButtonTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen23468",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onSettingsCancelButtonTap",
                "implHandler": [
                    "var mainPanel = this.getMainPanel();",
                    "mainPanel.down(\"#backButton\").hide();",
                    "mainPanel.setActiveItem(0);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#settingsCancelButton",
                "designer|userClassName": "onSettingsCancelButtonTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen24106",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onSettingsSaveButtonTap",
                "implHandler": [
                    "var mainPanel = this.getMainPanel(),",
                    "    settingsPanel = this.getSettingsPanel(),",
                    "    languageSelectField = settingsPanel.down(\"#languageSelectField\"),",
                    "    locale = languageSelectField.getValue();",
                    "",
                    "this.i18nSetup(locale);",
                    "mainPanel.down(\"#backButton\").hide();",
                    "mainPanel.setActiveItem(0);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#settingsSaveButton",
                "designer|userClassName": "onSettingsSaveButtonTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen30160",
            "type": "controllerroute",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "Route"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen30263",
            "type": "controllerroute",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "Route1"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen30366",
            "type": "controllerroute",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "Route2"
            },
            "customConfigs": [],
            "expanded": true
        }
    ]
}